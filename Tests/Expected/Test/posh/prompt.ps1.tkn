{language.PowerShell:Kadet\Highlighter\Parser\Token\LanguageToken}{variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:bg{/variable:Kadet\Highlighter\Parser\Token\Token}    = {symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[Console]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}::{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}BackgroundColor{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
{variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:first{/variable:Kadet\Highlighter\Parser\Token\Token} = {variable.special:Kadet\Highlighter\Parser\Token\Token}$true{/variable.special:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
{variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:last{/variable:Kadet\Highlighter\Parser\Token\Token}  = {number:Kadet\Highlighter\Parser\Token\Token}0{/number:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptFancyEnd{/call:Kadet\Highlighter\Parser\Token\Token} {
    {call:Kadet\Highlighter\Parser\Token\Token}Write-Host{/call:Kadet\Highlighter\Parser\Token\Token}  {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-NoNewline{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-ForegroundColor{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:bg{/variable:Kadet\Highlighter\Parser\Token\Token}

    {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:bg{/variable:Kadet\Highlighter\Parser\Token\Token} = {symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[System{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}ConsoleColor]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}::{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}Black
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {
    {keyword:Kadet\Highlighter\Parser\Token\Token}param{/keyword:Kadet\Highlighter\Parser\Token\Token}(
        [{symbol.annotation:Kadet\Highlighter\Parser\Token\Token}Parameter{/symbol.annotation:Kadet\Highlighter\Parser\Token\Token}{symbol.annotation.arguments:Kadet\Highlighter\Parser\Token\Token}(
            Position={number:Kadet\Highlighter\Parser\Token\Token}0{/number:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
            Mandatory={variable.special:Kadet\Highlighter\Parser\Token\Token}$true{/variable.special:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
            ValueFromPipeline={variable.special:Kadet\Highlighter\Parser\Token\Token}$true{/variable.special:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
            ValueFromPipelineByPropertyName={variable.special:Kadet\Highlighter\Parser\Token\Token}$true{/variable.special:Kadet\Highlighter\Parser\Token\Token}
        ){/symbol.annotation.arguments:Kadet\Highlighter\Parser\Token\Token}]{symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[string]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}{variable:Kadet\Highlighter\Parser\Token\Token}$Text{/variable:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}

        [{symbol.annotation:Kadet\Highlighter\Parser\Token\Token}Parameter{/symbol.annotation:Kadet\Highlighter\Parser\Token\Token}{symbol.annotation.arguments:Kadet\Highlighter\Parser\Token\Token}(Position={number:Kadet\Highlighter\Parser\Token\Token}1{/number:Kadet\Highlighter\Parser\Token\Token}){/symbol.annotation.arguments:Kadet\Highlighter\Parser\Token\Token}]{symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[System{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}ConsoleColor]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$Background{/variable:Kadet\Highlighter\Parser\Token\Token} = {symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[Console]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}::{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}BackgroundColor{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
        [{symbol.annotation:Kadet\Highlighter\Parser\Token\Token}Parameter{/symbol.annotation:Kadet\Highlighter\Parser\Token\Token}{symbol.annotation.arguments:Kadet\Highlighter\Parser\Token\Token}(Position={number:Kadet\Highlighter\Parser\Token\Token}2{/number:Kadet\Highlighter\Parser\Token\Token}){/symbol.annotation.arguments:Kadet\Highlighter\Parser\Token\Token}]{symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[System{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}ConsoleColor]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$Foreground{/variable:Kadet\Highlighter\Parser\Token\Token} = {symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}[System{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}ConsoleColor]{/symbol.dotnet:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}::{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}White
    )

    {keyword:Kadet\Highlighter\Parser\Token\Token}if{/keyword:Kadet\Highlighter\Parser\Token\Token}(!{variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:first{/variable:Kadet\Highlighter\Parser\Token\Token}) {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-Host{/call:Kadet\Highlighter\Parser\Token\Token}  {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-NoNewline{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-BackgroundColor{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$Background{/variable:Kadet\Highlighter\Parser\Token\Token} {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-ForegroundColor{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:bg{/variable:Kadet\Highlighter\Parser\Token\Token}
    } {keyword:Kadet\Highlighter\Parser\Token\Token}else{/keyword:Kadet\Highlighter\Parser\Token\Token} {
        {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:first{/variable:Kadet\Highlighter\Parser\Token\Token} = {variable.special:Kadet\Highlighter\Parser\Token\Token}$false{/variable.special:Kadet\Highlighter\Parser\Token\Token}
    }

    {call:Kadet\Highlighter\Parser\Token\Token}Write-Host{/call:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$text{/variable:Kadet\Highlighter\Parser\Token\Token} {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-NoNewline{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-BackgroundColor{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$Background{/variable:Kadet\Highlighter\Parser\Token\Token} {symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-ForegroundColor{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$Foreground{/variable:Kadet\Highlighter\Parser\Token\Token}

    {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:bg{/variable:Kadet\Highlighter\Parser\Token\Token} = {variable:Kadet\Highlighter\Parser\Token\Token}$background{/variable:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Get-FancyDir{/call:Kadet\Highlighter\Parser\Token\Token} {
    {keyword:Kadet\Highlighter\Parser\Token\Token}return{/keyword:Kadet\Highlighter\Parser\Token\Token} $({call:Kadet\Highlighter\Parser\Token\Token}Get-Location{/call:Kadet\Highlighter\Parser\Token\Token}){operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}ToString(){operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}Replace({variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}env{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:USERPROFILE{/variable:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}'~'{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken}){operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}Replace({string.single:Kadet\Highlighter\Parser\Token\ContextualToken}'\'{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}'  '{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken}){operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Get-GitBranch{/call:Kadet\Highlighter\Parser\Token\Token} {
    {variable:Kadet\Highlighter\Parser\Token\Token}$HEAD{/variable:Kadet\Highlighter\Parser\Token\Token} = {call:Kadet\Highlighter\Parser\Token\Token}Get-Content{/call:Kadet\Highlighter\Parser\Token\Token} $({call:Kadet\Highlighter\Parser\Token\Token}Join-Path{/call:Kadet\Highlighter\Parser\Token\Token} $({call:Kadet\Highlighter\Parser\Token\Token}Get-GitDirectory{/call:Kadet\Highlighter\Parser\Token\Token}) HEAD)
    {keyword:Kadet\Highlighter\Parser\Token\Token}if{/keyword:Kadet\Highlighter\Parser\Token\Token}({variable:Kadet\Highlighter\Parser\Token\Token}$HEAD{/variable:Kadet\Highlighter\Parser\Token\Token} {operator:Kadet\Highlighter\Parser\Token\Token}{symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-like{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token}{/operator:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}'ref: refs/heads/*'{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken}) {
        {keyword:Kadet\Highlighter\Parser\Token\Token}return{/keyword:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$HEAD{/variable:Kadet\Highlighter\Parser\Token\Token} {operator:Kadet\Highlighter\Parser\Token\Token}{symbol.parameter:Kadet\Highlighter\Parser\Token\Token}-replace{/symbol.parameter:Kadet\Highlighter\Parser\Token\Token}{/operator:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}'ref: refs/heads/(.*?)'{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token} {string.double:Kadet\Highlighter\Parser\Token\ContextualToken}"$1"{/string.double:Kadet\Highlighter\Parser\Token\ContextualToken}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
    } {keyword:Kadet\Highlighter\Parser\Token\Token}else{/keyword:Kadet\Highlighter\Parser\Token\Token} {
        {keyword:Kadet\Highlighter\Parser\Token\Token}return{/keyword:Kadet\Highlighter\Parser\Token\Token} {variable:Kadet\Highlighter\Parser\Token\Token}$HEAD{/variable:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token}.{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}Substring({number:Kadet\Highlighter\Parser\Token\Token}0{/number:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token},{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token} {number:Kadet\Highlighter\Parser\Token\Token}8{/number:Kadet\Highlighter\Parser\Token\Token}){operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
    }
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptStatus{/call:Kadet\Highlighter\Parser\Token\Token} {
    {keyword:Kadet\Highlighter\Parser\Token\Token}if{/keyword:Kadet\Highlighter\Parser\Token\Token}({variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:last{/variable:Kadet\Highlighter\Parser\Token\Token}) {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}' ✔ '{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken} Green Black
    } {keyword:Kadet\Highlighter\Parser\Token\Token}else{/keyword:Kadet\Highlighter\Parser\Token\Token} {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.double:Kadet\Highlighter\Parser\Token\ContextualToken}" ✖ {variable:Kadet\Highlighter\Parser\Token\Token}$lastexitcode{/variable:Kadet\Highlighter\Parser\Token\Token} "{/string.double:Kadet\Highlighter\Parser\Token\ContextualToken} Red White
    }
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptUser{/call:Kadet\Highlighter\Parser\Token\Token} {
    {keyword:Kadet\Highlighter\Parser\Token\Token}if{/keyword:Kadet\Highlighter\Parser\Token\Token}({variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}global{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:admin{/variable:Kadet\Highlighter\Parser\Token\Token}) {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}' # ADMIN '{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken} Magenta White{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
    } {keyword:Kadet\Highlighter\Parser\Token\Token}else{/keyword:Kadet\Highlighter\Parser\Token\Token} {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.double:Kadet\Highlighter\Parser\Token\ContextualToken}" {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}env{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:USERNAME{/variable:Kadet\Highlighter\Parser\Token\Token} "{/string.double:Kadet\Highlighter\Parser\Token\ContextualToken} Yellow Black{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
    }
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptVirtualEnv{/call:Kadet\Highlighter\Parser\Token\Token} {
    {keyword:Kadet\Highlighter\Parser\Token\Token}if{/keyword:Kadet\Highlighter\Parser\Token\Token}({variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}env{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:VIRTUAL_ENV{/variable:Kadet\Highlighter\Parser\Token\Token}) {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.double:Kadet\Highlighter\Parser\Token\ContextualToken}" $(split-path {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}env{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:VIRTUAL_ENV{/variable:Kadet\Highlighter\Parser\Token\Token} -leaf) "{/string.double:Kadet\Highlighter\Parser\Token\ContextualToken} Cyan Black
    }
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptDir{/call:Kadet\Highlighter\Parser\Token\Token} {
    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.double:Kadet\Highlighter\Parser\Token\ContextualToken}" $(Get-FancyDir) "{/string.double:Kadet\Highlighter\Parser\Token\ContextualToken} DarkGray White
}

{comment:Kadet\Highlighter\Parser\Token\Token}# Depends on posh-git{/comment:Kadet\Highlighter\Parser\Token\Token}
{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptGit{/call:Kadet\Highlighter\Parser\Token\Token} {
    {keyword:Kadet\Highlighter\Parser\Token\Token}if{/keyword:Kadet\Highlighter\Parser\Token\Token}({call:Kadet\Highlighter\Parser\Token\Token}Get-GitDirectory{/call:Kadet\Highlighter\Parser\Token\Token}) {
        {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptSegment{/call:Kadet\Highlighter\Parser\Token\Token} {string.double:Kadet\Highlighter\Parser\Token\ContextualToken}"  $(Get-GitBranch) "{/string.double:Kadet\Highlighter\Parser\Token\ContextualToken} Blue White
    }
}

{keyword:Kadet\Highlighter\Parser\Token\Token}function{/keyword:Kadet\Highlighter\Parser\Token\Token} {call:Kadet\Highlighter\Parser\Token\Token}prompt{/call:Kadet\Highlighter\Parser\Token\Token} {
    {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:last{/variable:Kadet\Highlighter\Parser\Token\Token}  = {variable.special:Kadet\Highlighter\Parser\Token\Token}$?{/variable.special:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}
    {variable:Kadet\Highlighter\Parser\Token\Token}${variable.scope:Kadet\Highlighter\Parser\Token\Token}script{/variable.scope:Kadet\Highlighter\Parser\Token\Token}:first{/variable:Kadet\Highlighter\Parser\Token\Token} = {variable.special:Kadet\Highlighter\Parser\Token\Token}$true{/variable.special:Kadet\Highlighter\Parser\Token\Token}{operator.punctuation:Kadet\Highlighter\Parser\Token\Token};{/operator.punctuation:Kadet\Highlighter\Parser\Token\Token}

    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptStatus{/call:Kadet\Highlighter\Parser\Token\Token}
    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptUser{/call:Kadet\Highlighter\Parser\Token\Token}
    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptVirtualEnv{/call:Kadet\Highlighter\Parser\Token\Token}
    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptDir{/call:Kadet\Highlighter\Parser\Token\Token}
    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptGit{/call:Kadet\Highlighter\Parser\Token\Token}

    {call:Kadet\Highlighter\Parser\Token\Token}Write-PromptFancyEnd{/call:Kadet\Highlighter\Parser\Token\Token}

    {keyword:Kadet\Highlighter\Parser\Token\Token}return{/keyword:Kadet\Highlighter\Parser\Token\Token} {string.single:Kadet\Highlighter\Parser\Token\ContextualToken}' '{/string.single:Kadet\Highlighter\Parser\Token\ContextualToken}
}{/language.PowerShell:Kadet\Highlighter\Parser\Token\LanguageToken}